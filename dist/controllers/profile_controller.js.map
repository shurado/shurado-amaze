{"version":3,"sources":["../../src/controllers/profile_controller.js"],"names":["Router","require","serialize","route","passport","jwtAuthenticate","authenticate","session","get","req","res","next","user","json","serializeFields","module","exports"],"mappings":";;AAAA,IAAMA,SAASC,QAAQ,SAAR,EAAmBD,MAAlC;;eACsBC,QAAQ,UAAR,C;IAAdC,S,YAAAA,S;;AAER,IAAMC,QAAQ,IAAIH,MAAJ,EAAd;AACA,IAAMI,WAAWH,QAAQ,UAAR,CAAjB;;AAEA,IAAMI,kBAAkBD,SAASE,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAAxB;;AAEAJ,MAAMK,GAAN,CAAU,UAAV,EAAsBH,eAAtB,EAAuC,UAACI,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzD,MAAIF,IAAIG,IAAJ,KAAa,IAAjB,EAAuB;AACrBD,SAAK,wDAAL;AACD;;AAED,SAAOD,IAAIG,IAAJ,CAAS;AACdD,UAAMV,UAAUO,IAAIG,IAAJ,CAASE,eAAnB,EAAoCL,IAAIG,IAAxC;AADQ,GAAT,CAAP;AAGD,CARD;;AAUAG,OAAOC,OAAP,GAAiBb,KAAjB","file":"profile_controller.js","sourcesContent":["const Router = require('express').Router;\nconst { serialize } = require('../utils');\n\nconst route = new Router();\nconst passport = require('passport');\n\nconst jwtAuthenticate = passport.authenticate('jwt', { session: false });\n\nroute.get('/profile', jwtAuthenticate, (req, res, next) => {\n  if (req.user === null) {\n    next('user doesn\\'t exist or you have no ability to read it.');\n  }\n\n  return res.json({\n    user: serialize(req.user.serializeFields)(req.user)\n  })\n});\n\nmodule.exports = route;\n"]}