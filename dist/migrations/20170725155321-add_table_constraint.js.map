{"version":3,"sources":["../../src/migrations/20170725155321-add_table_constraint.js"],"names":["module","exports","up","queryInterface","Sequelize","addColumn","type","INTEGER","references","model","key","onDelete","onUpdate","createTable","spot_id","allowNull","unique","feed_id","down","removeColumn","dropTable"],"mappings":"AAAA;;AAEAA,OAAOC,OAAP,GAAiB;AACfC,MAAI,YAAUC,cAAV,EAA0BC,SAA1B,EAAqC;AACvCD,mBAAeE,SAAf,CAAyB,OAAzB,EAAkC,SAAlC,EAA6C;AACzCC,YAAMF,UAAUG,OADyB;AAEzCC,kBAAY;AACVC,eAAO,OADG;AAEVC,aAAK;AAFK,OAF6B;AAMzCC,gBAAU,SAN+B;AAOzCC,gBAAU;AAP+B,KAA7C;;AAYAT,mBAAeU,WAAf,CAA2B,aAA3B,EAA0C;AACxCC,eAAS;AACPR,cAAMF,UAAUG,OADT;AAEPQ,mBAAW,KAFJ;AAGPC,gBAAQ,KAHD;AAIPR,oBAAY;AACVC,iBAAO,OADG;AAEVC,eAAK;AAFK,SAJL;AAQPC,kBAAU,SARH;AASPC,kBAAU;AATH,OAD+B;AAYxCK,eAAS;AACPX,cAAMF,UAAUG,OADT;AAEPS,gBAAQ,KAFD;AAGPR,oBAAY;AACVC,iBAAO,OADG;AAEVC,eAAK;AAFK,SAHL;AAOPK,mBAAW,KAPJ;AAQPJ,kBAAU,SARH;AASPC,kBAAU;AATH;AAZ+B,KAA1C;AAyBD,GAvCc;;AAyCfM,QAAM,cAAUf,cAAV,EAA0BC,SAA1B,EAAqC;AACzCD,mBAAegB,YAAf,CAA4B,OAA5B,EAAqC,SAArC;AACAhB,mBAAeiB,SAAf,CAAyB,aAAzB;AACD;AA5Cc,CAAjB","file":"20170725155321-add_table_constraint.js","sourcesContent":["'use strict';\n\nmodule.exports = {\n  up: function (queryInterface, Sequelize) {\n    queryInterface.addColumn('feeds', 'user_id', {\n        type: Sequelize.INTEGER,\n        references: {\n          model: 'users',\n          key: 'id'\n        },\n        onDelete: 'cascade',\n        onUpdate: 'cascade'\n      }\n    )\n\n\n    queryInterface.createTable('spots_feeds', {\n      spot_id: {\n        type: Sequelize.INTEGER,\n        allowNull: false,\n        unique: false,\n        references: {\n          model: 'spots',\n          key: 'id'\n        },\n        onDelete: 'cascade',\n        onUpdate: 'cascade'\n      },\n      feed_id: {\n        type: Sequelize.INTEGER,\n        unique: false,\n        references: {\n          model: 'feeds',\n          key: 'id'\n        },\n        allowNull: false,\n        onDelete: 'cascade',\n        onUpdate: 'cascade'\n      }\n    })\n\n  },\n\n  down: function (queryInterface, Sequelize) {\n    queryInterface.removeColumn('feeds', 'user_id')\n    queryInterface.dropTable('spots_feeds')\n  }\n};\n"]}