{"version":3,"sources":["../../src/migrations/20170726031524-add_foreign_key_to_comment.js"],"names":["module","exports","up","queryInterface","Sequelize","addColumn","type","INTEGER","references","model","key","then","addIndex","down","removeColumn"],"mappings":"AAAA;;AAEAA,OAAOC,OAAP,GAAiB;AACfC,MAAI,YAAUC,cAAV,EAA0BC,SAA1B,EAAqC;AACvCD,mBAAeE,SAAf,CAAyB,UAAzB,EAAqC,SAArC,EAAgD;AAC9CC,YAAMF,UAAUG,OAD8B;AAE9CC,kBAAY;AACVC,eAAO,OADG;AAEVC,aAAK;AAFK;AAFkC,KAAhD,EAMGC,IANH,CAMQ,YAAM;AACZR,qBAAeS,QAAf,CAAwB,UAAxB,EAAoC,CAAC,SAAD,CAApC;AACD,KARD;;AAUAT,mBAAeE,SAAf,CAAyB,UAAzB,EAAqC,SAArC,EAAgD;AAC9CC,YAAMF,UAAUG,OAD8B;AAE9CC,kBAAY;AACVC,eAAO,OADG;AAEVC,aAAK;AAFK;AAFkC,KAAhD,EAMGC,IANH,CAMQ,YAAM;AACZR,qBAAeS,QAAf,CAAwB,UAAxB,EAAoC,CAAC,SAAD,CAApC;AACD,KARD;AASD,GArBc;;AAuBfC,QAAM,cAAUV,cAAV,EAA0BC,SAA1B,EAAqC;AACzCD,mBAAeW,YAAf,CAA4B,UAA5B,EAAwC,SAAxC;AACAX,mBAAeW,YAAf,CAA4B,UAA5B,EAAwC,SAAxC;AACD;AA1Bc,CAAjB","file":"20170726031524-add_foreign_key_to_comment.js","sourcesContent":["'use strict';\n\nmodule.exports = {\n  up: function (queryInterface, Sequelize) {\n    queryInterface.addColumn('comments', 'user_id', {\n      type: Sequelize.INTEGER,\n      references: {\n        model: 'users',\n        key: 'id'\n      },\n    }).then(() => {\n      queryInterface.addIndex('comments', ['user_id']);\n    });\n\n    queryInterface.addColumn('comments', 'feed_id', {\n      type: Sequelize.INTEGER,\n      references: {\n        model: 'feeds',\n        key: 'id'\n      }\n    }).then(() => {\n      queryInterface.addIndex('comments', ['feed_id'])\n    })\n  },\n\n  down: function (queryInterface, Sequelize) {\n    queryInterface.removeColumn('comments', 'user_id');\n    queryInterface.removeColumn('comments', 'feed_id');\n  }\n};\n"]}